<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„ÙˆØ­Ø© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</title>

<style>
body {
  direction: rtl;
  font-family: system-ui, sans-serif;
  background: #050608;
  color: #f5f5f5;
  padding: 20px;
}
h1, h2 {
  color: #f5d27a;
}
.section {
  border: 1px solid #444;
  border-radius: 10px;
  padding: 15px;
  margin-bottom: 20px;
  background: linear-gradient(135deg, #111, #1b1410);
}
label {
  display: block;
  margin-top: 8px;
  font-size: 14px;
}
input, textarea, select {
  width: 100%;
  padding: 6px 8px;
  margin-top: 4px;
  border-radius: 6px;
  border: 1px solid #555;
  background: #0b0c10;
  color: #f5f5f5;
  font-size: 13px;
}
button {
  margin-top: 12px;
  padding: 8px 16px;
  background: linear-gradient(90deg, #d4af37, #f5d27a);
  border: none;
  border-radius: 20px;
  color: #000;
  font-weight: bold;
  cursor: pointer;
}
textarea.output {
  height: 220px;
  font-family: monospace;
  white-space: pre;
}
small {
  color: #bbb;
}
</style>
</head>

<body>

<h1>Ù„ÙˆØ­Ø© ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</h1>
<p>Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ®Ø¯Ù… Ù…Ø´Ø±ÙˆØ¹Ùƒ Ø§Ù„Ø¶Ø®Ù…: ØµÙØ­Ø§Øª Ø°Ù‡Ø¨ÙŠØ©ØŒ Ù…Ø±ÙƒØ² Ø¥Ø¹Ù„Ø§Ù†Ø§ØªØŒ ÙˆÙƒÙˆØ¯ adsDB â€” ÙƒÙ„ Ø´ÙŠØ¡ Ù…Ù† Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯.</p>

<!-- 1) Ù…ÙˆÙ„Ù‘Ø¯ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† -->
<div class="section">
  <h2>1) Ù…ÙˆÙ„Ù‘Ø¯ ØµÙØ­Ø© Ø¥Ø¹Ù„Ø§Ù† Ø°Ù‡Ø¨ÙŠØ© (HTML Ù„Ø¨Ù„ÙˆØ¬Ø±)</h2>

  <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†:</label>
  <input id="adTitle">

  <label>ÙˆØµÙ Ù…Ø®ØªØµØ±:</label>
  <textarea id="adShortDesc"></textarea>

  <label>ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ:</label>
  <textarea id="adLongDesc"></textarea>

  <label>Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø¶:</label>
  <input id="adImage">

  <label>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù‚Ø¯ÙŠÙ…:</label>
  <input id="adOldPrice" type="number">

  <label>Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯:</label>
  <input id="adNewPrice" type="number">

  <label>Ø±Ø§Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨:</label>
  <input id="adOrderLink">

  <button onclick="generateAdPage()">ØªÙˆÙ„ÙŠØ¯ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©</button>
  <small>Ø§Ù†Ø³Ø® Ø§Ù„Ù†Ø§ØªØ¬ ÙˆØ¶Ø¹Ù‡ ÙÙŠ ÙˆØ¶Ø¹ HTML Ø¯Ø§Ø®Ù„ ØµÙØ­Ø© Ø¥Ø¹Ù„Ø§Ù† Ø¬Ø¯ÙŠØ¯Ø© ÙÙŠ Blogger.</small>

  <textarea id="adPageOutput" class="output"></textarea>
</div>

<!-- 2) Ù…ÙˆÙ„Ù‘Ø¯ ÙƒØ§Ø¦Ù† adsDB -->
<div class="section">
  <h2>2) Ù…ÙˆÙ„Ù‘Ø¯ ÙƒØ§Ø¦Ù† Ù„Ø¥Ø¶Ø§ÙØªÙ‡ Ø¯Ø§Ø®Ù„ adsDB.js</h2>

  <label>ID Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†:</label>
  <input id="dbId" type="number">

  <label>Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†:</label>
  <input id="dbTitle">

  <label>ÙˆØµÙ Ù…Ø®ØªØµØ± Ø¬Ø¯Ø§Ù‹:</label>
  <input id="dbDesc">

  <label>Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø¹Ø±Ø¶:</label>
  <input id="dbImage">

  <label>Ø±Ø§Ø¨Ø· ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†:</label>
  <input id="dbLink">

  <label>Ø§Ù„ØªØµÙ†ÙŠÙ:</label>
  <select id="dbCategory">
    <option value="design">design</option>
    <option value="branding">branding</option>
    <option value="services">services</option>
    <option value="courses">courses</option>
    <option value="other">other</option>
  </select>

  <label>Ù‡Ù„ Ù‡Ùˆ Ø¥Ø¹Ù„Ø§Ù† Ù…Ù…ÙŠØ²ØŸ</label>
  <select id="dbFeatured">
    <option value="true">Ù†Ø¹Ù…</option>
    <option value="false">Ù„Ø§</option>
  </select>

  <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†:</label>
  <select id="dbStatus">
    <option value="active">active</option>
    <option value="expired">expired</option>
  </select>

  <label>ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¹Ø±Ø¶:</label>
  <input id="dbExpires">

  <button onclick="generateDbObject()">ØªÙˆÙ„ÙŠØ¯ ÙƒØ§Ø¦Ù† adsDB</button>
  <textarea id="dbOutput" class="output"></textarea>
</div>

<!-- 3) Ù…ÙˆÙ„Ù‘Ø¯ Ù…Ø±ÙƒØ² Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª -->
<div class="section">
  <h2>3) ØªÙˆÙ„ÙŠØ¯ Ù…Ø±ÙƒØ² Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ÙŠ</h2>

  <label>Ø±Ø§Ø¨Ø· Ù…Ù„Ù adsDB.js (Raw):</label>
  <input id="dbUrl">

  <button onclick="generateCenter()">ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ù…Ø±ÙƒØ² Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</button>
  <textarea id="centerOutput" class="output"></textarea>
</div>

<!-- 4) Ø²Ø± Ø±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Supabase -->
<div class="section">
  <h2>4) Ø±ÙØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¥Ù„Ù‰ Supabase</h2>

  <button onclick="migrateAds()" style="padding:12px 20px;border-radius:10px;background:#d4af37;color:#000;font-weight:bold;">
    Ø±ÙØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¥Ù„Ù‰ Supabase
  </button>

  <small>ÙŠØªÙ… Ø±ÙØ¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ adsDB.js Ø¥Ù„Ù‰ Ø¬Ø¯ÙˆÙ„ ads Ø¯Ø§Ø®Ù„ Supabase.</small>
</div>

<!-- ØªØ­Ù…ÙŠÙ„ adsDB.js -->
<script src="https://raw.githack.com/adnan-radwan/adnan-radwan.github.io/main/adsDB.js"></script>

<script>
/* -------------------------------
   1) ØªÙˆÙ„ÙŠØ¯ ØµÙØ­Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©
--------------------------------*/
function generateAdPage() {
  const title = adTitle.value || "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†";
  const shortDesc = adShortDesc.value || "";
  const longDesc = adLongDesc.value || "";
  const image = adImage.value || "https://via.placeholder.com/1200x600?text=Premium+Ad";
  const oldPrice = adOldPrice.value || "0";
  const newPrice = adNewPrice.value || "0";
  const orderLink = adOrderLink.value || "#";

  const html = `
<div style="min-height:100vh;background:#050608;padding:20px 0;font-family:system-ui,sans-serif;direction:rtl;">
  <div style="max-width:900px;margin:0 auto;background:radial-gradient(circle at top,#2b1b0f,#050608);border-radius:18px;border:1px solid rgba(212,175,55,0.5);box-shadow:0 0 40px rgba(0,0,0,0.8);padding:20px 18px;color:#f5f5f5;">
    <div style="text-align:center;margin-bottom:18px;">
      <div style="display:inline-block;padding:4px 14px;border-radius:999px;border:1px solid rgba(245,210,122,0.6);font-size:11px;letter-spacing:2px;color:#f5d27a;text-transform:uppercase;">Premium Gold Offer</div>
      <h1 style="margin:10px 0 6px;font-size:24px;line-height:1.3;color:#ffe9b0;">${title}</h1>
      <p style="margin:0;font-size:13px;color:#ddd;max-width:580px;margin-inline:auto;">${shortDesc}</p>
    </div>

    <div style="border-radius:14px;overflow:hidden;position:relative;margin-bottom:16px;">
      <img src="${image}" style="width:100%;display:block;object-fit:cover;max-height:360px;">
      <div style="position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,0.75),transparent 55%);"></div>
      <div style="position:absolute;bottom:10px;left:14px;right:14px;display:flex;justify-content:space-between;align-items:flex-end;">
        <div>
          <div style="font-size:11px;color:#f5d27a;letter-spacing:1px;">PREMIUM GOLD</div>
          <div style="font-size:13px;color:#fff;opacity:0.9;">Ø¹Ø±Ø¶ Ù…Ø­Ø¯ÙˆØ¯ Ø¨Ø¹Ø¯Ø¯ Ø£ÙŠØ§Ù… Ù…Ø­Ø¯Ø¯Ø©</div>
        </div>
        <div style="text-align:left;">
          <div style="font-size:11px;color:#ccc;text-decoration:line-through;">$${oldPrice}</div>
          <div style="font-size:20px;color:#ffd800;font-weight:bold;">$${newPrice}</div>
        </div>
      </div>
    </div>

    <div style="background:rgba(0,0,0,0.55);border-radius:12px;border:1px solid rgba(245,210,122,0.25);padding:12px 12px 10px;margin-bottom:16px;">
      <h2 style="margin:0 0 6px;font-size:15px;color:#f8e1a0;">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ø±Ø¶</h2>
      <div style="font-size:13px;line-height:1.7;color:#f0f0f0;white-space:pre-wrap;">${longDesc}</div>
    </div>

    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
      <div style="font-size:12px;color:#ccc;">
        Ø§Ù„Ø³Ø¹Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø®ØµÙ…: <span style="text-decoration:line-through;color:#888;">$${oldPrice}</span> |
        <span style="color:#ffd800;font-weight:bold;">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø°Ù‡Ø¨ÙŠ: $${newPrice}</span>
      </div>

      <a href="${orderLink}" style="text-decoration:none;">
        <div style="padding:8px 16px;border-radius:999px;background:linear-gradient(90deg,#f5d27a,#d4af37);color:#000;font-size:13px;font-weight:bold;display:inline-flex;align-items:center;gap:6px;box-shadow:0 0 18px rgba(245,210,122,0.35);">
          <span>Ø§Ø·Ù„Ø¨ Ù‡Ø°Ø§ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¢Ù†</span>
          <span style="font-size:16px;">â¤</span>
        </div>
      </a>
    </div>

    <div style="border-top:1px solid rgba(255,255,255,0.06);padding-top:10px;font-size:11px;color:#999;text-align:center;">
      Ø¥Ø¹Ù„Ø§Ù† Ø°Ù‡Ø¨ÙŠ Ø¶Ù…Ù† Ù†Ø¸Ø§Ù… Premium Ads Ø§Ù„Ø®Ø§Øµ Ø¨Ù€ Adnan Radwan.
    </div>
  </div>
</div>
`.trim();

  adPageOutput.value = html;
}

/* -------------------------------
   2) ØªÙˆÙ„ÙŠØ¯ ÙƒØ§Ø¦Ù† adsDB
--------------------------------*/
function generateDbObject() {
  const id = Number(dbId.value) || 1;
  const obj = {
    id,
    title: dbTitle.value || "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†",
    desc: dbDesc.value || "ÙˆØµÙ Ù…Ø®ØªØµØ±",
    image: dbImage.value || "https://via.placeholder.com/800x450?text=Ad+" + id,
    link: dbLink.value || ("/p/ad" + id + ".html"),
    category: dbCategory.value || "other",
    featured: dbFeatured.value === "true",
    status: dbStatus.value || "active",
    oldPrice: 199,
    newPrice: 99,
    expires: dbExpires.value || "2025-12-31"
  };

  dbOutput.value = JSON.stringify(obj, null, 2) + ",";
}

/* -------------------------------
   3) ØªÙˆÙ„ÙŠØ¯ Ù…Ø±ÙƒØ² Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
--------------------------------*/
function generateCenter() {
  const url = dbUrl.value || "";

  const html = `
<div id="premium-ads-center" style="min-height:100vh;background:#050608;padding:20px 0;font-family:system-ui,sans-serif;direction:rtl;">
  <div style="max-width:1000px;margin:0 auto;">
    <div style="text-align:center;margin-bottom:20px;">
      <div style="display:inline-block;padding:4px 14px;border-radius:999px;border:1px solid rgba(245,210,122,0.6);font-size:11px;letter-spacing:2px;color:#f5d27a;text-transform:uppercase;">Premium Ads Center</div>
      <h1 style="margin:10px 0 6px;font-size:24px;line-height:1.3;color:#ffe9b0;">Ù…Ø±ÙƒØ² Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø§Ù„Ø°Ù‡Ø¨ÙŠ</h1>
      <p style="margin:0;font-size:13px;color:#ccc;">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯ØŒ ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</p>
    </div>

    <div id="ads-grid" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:14px;"></div>
  </div>
</div>

<script src="${url}"></script>
<script>
(function() {
  if (!window.adsDB) {
    console.error("adsDB ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯.");
    return;
  }

  var container = document.getElementById("ads-grid");

  adsDB.forEach(function(ad) {
    if (ad.status !== "active") return;

    var card = document.createElement("a");
    card.href = ad.link;
    card.style.textDecoration = "none";
    card.style.color = "#f5f5f5";
    card.style.background = "radial-gradient(circle at top,#2b1b0f,#050608)";
    card.style.borderRadius = "14px";
    card.style.border = "1px solid rgba(212,175,55,0.4)";
    card.style.overflow = "hidden";
    card.style.display = "flex";
    card.style.flexDirection = "column";
    card.style.position = "relative";
    card.style.boxShadow = "0 0 20px rgba(0,0,0,0.6)";

    card.innerHTML = `
      <div style="position:relative;overflow:hidden;">
        <img src="${ad.image}" style="width:100%;height:150px;object-fit:cover;">
        <div style="position:absolute;inset:0;background:linear-gradient(to top,rgba(0,0,0,0.85),transparent 55%);"></div>

        <div style="position:absolute;bottom:8px;left:10px;right:10px;display:flex;justify-content:space-between;align-items:flex-end;">
          <div>
            <div style="font-size:11px;color:#f5d27a;">PREMIUM</div>
            <div style="font-size:12px;color:#fff;max-width:150px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${ad.title}</div>
          </div>

          <div style="text-align:left;">
            <div style="font-size:11px;color:#ccc;text-decoration:line-through;">$${ad.oldPrice}</div>
            <div style="font-size:15px;color:#ffd800;font-weight:bold;">$${ad.newPrice}</div>
          </div>
        </div>

        ${ad.featured ? '<div style="position:absolute;top:8px;right:8px;font-size:10px;padding:4px 8px;border-radius:999px;background:linear-gradient(90deg,#f5d27a,#d4af37);color:#000;font-weight:bold;">Ù…Ù…ÙŠØ²</div>' : ""}
      </div>

      <div style="padding:10px 10px 9px;">
        <div style="font-size:12px;color:#ddd;min-height:32px;">${ad.desc}</div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px;font-size:11px;color:#aaa;">
          <span>${ad.category}</span>
          <span>ÙŠÙ†ØªÙ‡ÙŠ ÙÙŠ: ${ad.expires}</span>
        </div>
      </div>
    `;

    container.appendChild(card);
  });
})();
</script>
`.trim();

  centerOutput.value = html;
}

/* -------------------------------
   4) Ø±ÙØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¥Ù„Ù‰ Supabase
--------------------------------*/

/* Ø¶Ø¹ Ù‚ÙŠÙ…ØªÙƒ Ù‡Ù†Ø§ Ø¨Ù†ÙØ³Ùƒ */
const SUPABASE_URL = "https://ideadhnvvqgtecmuidqn.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlkZWFkaG52dnFndGVjbXVpZHFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjczODAwMjUsImV4cCI6MjA4Mjk1NjAyNX0.bJ9jbv-437eJRiWdL8pkkztB9dUqFkPHJdD1ktouAQU";

async function migrateAds() {
  if (!window.ads || !Array.isArray(ads)) {
    alert("adsDB.js ØºÙŠØ± Ù…Ø­Ù…Ù‘Ù„.");
    return;
  }

  const payload = ads.map(a => ({
    id: a.id,
    title: a.title,
    desc: a.desc,
    image: a.image,
    link: a.link || null,
    category: a.category,
    featured: !!a.featured,
    old_price: a.oldPrice || null,
    new_price: a.newPrice || null,
    expires: new Date(a.expires).toISOString()
  }));

  const res = await fetch(`${SUPABASE_URL}/rest/v1/ads`, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      apikey: SUPABASE_KEY,
      Authorization: "Bearer " + SUPABASE_KEY,
      Prefer: "resolution=merge-duplicates"
    },
    body: JSON.stringify(payload)
  });

  if (!res.ok) {
    alert("Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø±ÙØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:\n" + await res.text());
  } else {
    alert("ğŸ‰ ØªÙ… Ø±ÙØ¹ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø¥Ù„Ù‰ Supabase Ø¨Ù†Ø¬Ø§Ø­!");
  }
}
</script>

</body>
</html>
