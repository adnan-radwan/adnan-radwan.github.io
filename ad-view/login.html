<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>تسجيل الدخول — لوحة التحكم</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
  <style>
    body { font-family: sans-serif; background:#111; color:#fff; display:flex; justify-content:center; align-items:center; height:100vh; }
    .login-box { background:#222; padding:30px; border-radius:12px; width:320px; }
    input { width:100%; padding:10px; margin:10px 0; border-radius:6px; border:none; }
    button { width:100%; padding:12px; background:#d4af37; border:none; border-radius:6px; font-size:16px; cursor:pointer; }
  </style>
</head>
<body>

<div class="login-box">
  <h2>تسجيل الدخول</h2>

  <input type="email" id="email" placeholder="البريد الإلكتروني">
  <input type="password" id="password" placeholder="كلمة المرور">

  <button onclick="login()">دخول</button>

  <p id="msg"></p>
</div>

<script>
  const supabaseClient = supabase.createClient(
    "https://jhnixraeajtupkqwqghr.supabase.co",
    "sb_publishable_5sjJVc_U0iPxcQns6LYiDw_MyQDXFsG"
  );

  async function login() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const { data, error } = await supabaseClient.auth.signInWithPassword({
      email,
      password
    });

    if (error) {
      document.getElementById("msg").textContent = "خطأ في تسجيل الدخول";
      return;
    }

    // نجاح
    window.location.href = "dashboard.html";
  }
</script>

</body>
</html>
